<!doctype html><html lang=en><meta charset=utf-8><meta name=generator content="Hugo 0.157.0"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><meta name=color-scheme content="light dark"><meta name=supported-color-schemes content="light dark"><meta name=description content="Claude Code is an impressive CLI that brings sophisticated AI-assisted coding directly into the terminal. Its TUI (Text User Interface) provides rich feedback through interactive menus, progress bars, and side-by-side diffs. However, long-running tasks present a challenge: if you need to step away from your computer, the session momentum is often lost.
To solve this, I’ve developed a workflow using Tmux as a shared terminal state. This allows me to hand off a live session to my Clawdbot agent and, conversely, take over a session that the agent started. It also provides a mechanism to optionally switch between different account tokens (such as a work account) on the fly."><title>Tag-Teaming Claude Code with an AI Agent via Tmux&nbsp;&ndash;&nbsp;Hiren Patel</title><link rel=stylesheet href=/css/core.min.7a88a678413887f788e02338683b5c4fed286c468ee82f45821ce1ef1907f4b7817f883fac3bc61342fb67ad83c6975f.css integrity=sha384-eoimeEE4h/eI4CM4aDtcT+0obEaO6C9Fghzh7xkH9LeBf4g/rDvGE0L7Z62Dxpdf><meta name=twitter:card content="summary"><meta name=twitter:title content="Tag-Teaming Claude Code with an AI Agent via Tmux"><link rel=preload href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css as=style onload='this.rel="stylesheet"'><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#191919><meta name=msapplication-TileColor content="#00aba9"><body><section id=header class="site header"><div class="header wrap"><span class="header left-side"><a class="site home" href=/><img alt loading=lazy class="site logo" src=/patelhiren-logo.png><span class="site name">Hiren Patel</span></a></span>
<span class="header right-side"><div class="nav wrap"><nav class=nav><a class="nav item" href=/categories/>Categories</a><a class="nav item" href=/tags/>Tags</a><a class="nav item" href=/about/>About</a></nav></div></span></div><div class="site slogan wrap"><span class="title left-side">Documenting things as I learn.</span>
<span class=right-side><div class=social-buttons><a href=/index.xml aria-label="Subscribe in your RSS reader"><span><i class="fa-solid fa-rss"></i>
</span></a><a rel=me href=https://mastodon.social/@patelhiren target=_blank aria-label="Follow @patelhiren on Mastodon"><span><i class="fa-brands fa-mastodon"></i>
</span></a><a href=https://twitter.com/patelhiren target=_blank aria-label="Follow @patelhiren on Twitter"><span><i class="fa-brands fa-twitter"></i></span></a></div></span></div></section><section id=content><div class=article-container><section class="article header"><h1 class="article title">Tag-Teaming Claude Code with an AI Agent via Tmux</h1><p class="article date">Jan 22, 2026</p></section><article class="article markdown-body"><p><a href=https://claude.ai/code target=_blank rel="noopener noreferrer">Claude Code</a> is an impressive CLI that brings sophisticated AI-assisted coding directly into the terminal. Its TUI (Text User Interface) provides rich feedback through interactive menus, progress bars, and side-by-side diffs. However, long-running tasks present a challenge: if you need to step away from your computer, the session momentum is often lost.</p><p>To solve this, I’ve developed a workflow using <a href=https://github.com/tmux/tmux/wiki target=_blank rel="noopener noreferrer">Tmux</a> as a shared terminal state. This allows me to hand off a live session to my <a href=https://clawd.bot/ target=_blank rel="noopener noreferrer">Clawdbot</a> agent and, conversely, take over a session that the agent started. It also provides a mechanism to optionally switch between different account tokens (such as a work account) on the fly.</p><h2 id=the-core-concept-persistence>The Core Concept: Persistence</h2><p>The strategy relies on Tmux sessions to maintain a persistent terminal state in memory. By using named sessions, both the human and the AI agent can attach to and drive the exact same process. This ensures zero context loss when switching between &ldquo;manual&rdquo; and &ldquo;agent&rdquo; mode.</p><h2 id=configuration-storing-account-profiles>Configuration: Storing Account Profiles</h2><p>To enable the agent to switch accounts, you can store secondary tokens in the <code>coding-agent</code> skill section of <code>clawdbot.json</code>. Using simple shorthand keys makes it easier to request them from a phone.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=s2>&#34;skills&#34;</span><span class=err>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;entries&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;coding-agent&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;env&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;CC_ACC2_TOKEN&#34;</span><span class=p>:</span> <span class=s2>&#34;your-token-here&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=workflow-1-human-to-agent-hand-off>Workflow 1: Human to Agent Hand-off</h2><p>When I am working at my desk and need to step away, I follow these steps:</p><ol><li><p><strong>Start a named Tmux session</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>tmux new -s hiren-claude
</span></span><span class=line><span class=cl>claude
</span></span></code></pre></td></tr></table></div></div><blockquote><p><strong>Pro-Tip</strong>: If you want to launch manually with a specific account token, use the <code>env</code> prefix within the Tmux command string to ensure the environment variable is correctly injected into the background session:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>tmux new -s hiren-claude -d <span class=s2>&#34;env CLAUDE_CODE_OAUTH_TOKEN=&#39;your-token&#39; claude&#34;</span>
</span></span></code></pre></td></tr></table></div></div></blockquote></li><li><p><strong>Request Hand-off</strong>: From WhatsApp, I tell the agent:</p><blockquote><p>&ldquo;Take over session <code>hiren-claude</code>. Finish the refactor.&rdquo;</p></blockquote></li></ol><h3 id=environment-inheritance>Environment Inheritance</h3><p>If I start a session at my desk using <code>export CLAUDE_CODE_OAUTH_TOKEN=...</code>, the agent inherits that environment automatically when it takes over the Tmux pane. Keystrokes sent by the agent will be processed within that authenticated shell.</p><h2 id=workflow-2-agent-to-human-take-over>Workflow 2: Agent to Human Take-over</h2><p>The hand-off also works in reverse. I can have the agent start a complex task while I am away:</p><h3 id=default-account-example>Default Account Example</h3><p>I can instruct the agent to start a new run using my default CLI login:</p><blockquote><p>&ldquo;Start a new session <code>hiren-claude</code> and begin refactoring the database schema.&rdquo;</p></blockquote><p>Behind the scenes, the agent runs <code>tmux new -s hiren-claude -d "claude '...'"</code>.</p><h3 id=specific-account-example>Specific Account Example</h3><p>If I want the agent to use a specific account profile from the config:</p><blockquote><p>&ldquo;Start a new session <code>hiren-claude</code> using <code>cc-acc2-token</code> and fix the memory leak.&rdquo;</p></blockquote><p>The agent then prepends the token to the execution, mapping the <code>CC_ACC2_TOKEN</code> from the config to the <code>CLAUDE_CODE_OAUTH_TOKEN</code> required by the CLI.</p><h3 id=human-take-over>Human Take-over</h3><p>When I return to my computer, I can attach to the session and take full control immediately:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>tmux attach -t hiren-claude
</span></span></code></pre></td></tr></table></div></div><p>Because Tmux lives in the background, this works even if the screen is locked, provided the computer remains awake.</p><h2 id=benefits-of-the-tmux-bridge>Benefits of the Tmux Bridge</h2><ul><li><strong>Full TUI Support</strong>: Standard stdin/stdout redirection often breaks the interactive elements of Claude Code. Using Tmux preserves the full visual experience.</li><li><strong>Real-time Monitoring</strong>: I can &ldquo;spectate&rdquo; the work by attaching to the session via SSH from a mobile device or another terminal.</li><li><strong>Zero Friction</strong>: No need to re-authenticate or re-explain context when switching between human and AI control.</li></ul><h2 id=pro-tip-smooth-scrolling-in-tmux>Pro-Tip: Smooth Scrolling in Tmux</h2><p>One common frustration when using Claude Code inside Tmux is scrolling. By default, using the mouse wheel might send &ldquo;Up/Down&rdquo; arrow keys, which moves the text in the entry box rather than scrolling the terminal history.</p><p>To fix this, you can enable <strong>Mouse Mode</strong>. Add the following to your <code>~/.tmux.conf</code> file:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>set</span> -g mouse on
</span></span></code></pre></td></tr></table></div></div><p>With this enabled, you can scroll through Claude&rsquo;s responses naturally. If you don&rsquo;t want to enable global mouse mode, you can always enter <strong>Copy Mode</strong> manually by pressing <code>Ctrl-b</code> then <code>[</code>. Once in copy mode, you can scroll freely; just press <code>q</code> to return to the prompt.</p><h2 id=execution-reminders>Execution Reminders</h2><ul><li><strong>Installation</strong>: Ensure <code>tmux</code> is installed via <a href=https://brew.sh/ target=_blank rel="noopener noreferrer">Homebrew</a> (<code>brew install tmux</code>).</li><li><strong>Naming</strong>: Use consistent session names so the agent knows where to look.</li><li><strong>Power Settings</strong>: Configure your Mac to stay awake when the display is off to ensure the Tmux server remains active.</li></ul><p>By treating the terminal as a shared space, I’ve turned my AI agent into a true tag-team partner. We can hot-swap control of the keyboard and switch accounts on the fly without ever losing the &ldquo;zone.&rdquo;</p></article><section class="article labels"><a class=category href=/categories/ai-automation/>AI Automation</a><a class=category href=/categories/programming/>Programming</a><a class=tag href=/tags/claude-code/>Claude Code</a><a class=tag href=/tags/tmux/>Tmux</a><a class=tag href=/tags/openclaw/>openclaw</a><a class=tag href=/tags/workflow/>Workflow</a><a class=tag href=/tags/automation/>Automation</a></section></div><div class="article bottom"><section class="article navigation"><p><a class=link href=/blog/macos-newsyslog-openclaw-logs/><span class="iconfont icon-article"></span>Using macOS newsyslog to Rotate Service Logs</a></p><p><a class=link href=/blog/deploying-sandboxed-family-agent-clawdbot/><span class="iconfont icon-article"></span>Deploying a Sandboxed Family Agent with Cross-Compiled Go Skills in Clawdbot</a></p></section></div></section><section id=footer><div class=footer-wrap><p class=copyright>© Copyright 2026, © Copyright {year}, Hiren Patel</p><p class=disclaimer>Disclaimer: The opinions expressed herein are my own personal opinions and do not represent my employer’s view in any way.</p></div></section><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "0ceb2b0172264816ba290291f3b99e4f"}'></script></body></html>