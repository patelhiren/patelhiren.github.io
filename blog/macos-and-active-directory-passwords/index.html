<!doctype html><html lang=en><meta charset=utf-8><meta name=generator content="Hugo 0.157.0"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><meta name=color-scheme content="light dark"><meta name=supported-color-schemes content="light dark"><meta name=description content="Macs connected to Active Directory routinely need to update passwords. When working remote, Active Directory password change is not exactly easy. Here are the steps I follow to update my Active Directory password and keep my local mac password in sync."><title>macOS and Active Directory Passwords&nbsp;&ndash;&nbsp;Hiren Patel</title><link rel=stylesheet href=/css/core.min.a271369230992b83b0bc7223bb9b655caaed115024945ad824ec346d8a158c7b8c2850405c88fa0eefb7ef0108dc5684.css integrity=sha384-onE2kjCZK4OwvHIju5tlXKrtEVAklFrYJOw0bYoVjHuMKFBAXIj6Du+37wEI3FaE><meta name=twitter:card content="summary"><meta name=twitter:title content="macOS and Active Directory Passwords"><link rel=preload href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css as=style onload='this.rel="stylesheet"'><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#191919><meta name=msapplication-TileColor content="#00aba9"><body><section id=header class="site header"><div class="header wrap"><span class="header left-side"><a class="site home" href=/><img alt loading=lazy class="site logo" src=/patelhiren-logo.png><span class="site name">Hiren Patel</span></a></span>
<span class="header right-side"><div class="nav wrap"><nav class=nav><a class="nav item" href=/categories/>Categories</a><a class="nav item" href=/tags/>Tags</a><a class="nav item" href=/about/>About</a></nav></div></span></div><div class="site slogan wrap"><span class="title left-side">Documenting things as I learn.</span>
<span class=right-side><div class=social-buttons><a href=/index.xml aria-label="Subscribe in your RSS reader"><span><i class="fa-solid fa-rss"></i>
</span></a><a rel=me href=https://mastodon.social/@patelhiren target=_blank aria-label="Follow @patelhiren on Mastodon"><span><i class="fa-brands fa-mastodon"></i>
</span></a><a href=https://twitter.com/patelhiren target=_blank aria-label="Follow @patelhiren on Twitter"><span><i class="fa-brands fa-twitter"></i></span></a></div></span></div></section><section id=content><div class=article-container><section class="article header"><h1 class="article title">macOS and Active Directory Passwords</h1><p class="article date">Jan 02, 2021</p></section><article class="article markdown-body"><p>Macs connected to Active Directory routinely need to update passwords. When working remote, Active Directory password change is not exactly easy. Here are the steps I follow to update my Active Directory password and keep my local mac password in sync.</p><p>Connect to corporate VPN so that Active Directory is reachable over VPN. Open Terminal and run the following command.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-zsh data-lang=zsh><span class=line><span class=cl>kpasswd myusername@FULLADDOMAIN.COM
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-console data-lang=console><span class=line><span class=cl><span class=go>myusername@FULLADDOMAIN.COM&#39;s Password: 
</span></span></span><span class=line><span class=cl><span class=go>New password for myusername@FULLADDOMAIN.COM: 
</span></span></span><span class=line><span class=cl><span class=go>Verify password - New password for myusername@FULLADDOMAIN.COM: 
</span></span></span><span class=line><span class=cl><span class=go>Success
</span></span></span></code></pre></td></tr></table></div></div><p>Once password change is confirmed, run the following to force sync the updated password to keychain.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-zsh data-lang=zsh><span class=line><span class=cl>dsconfigad -passinterval <span class=m>0</span>
</span></span></code></pre></td></tr></table></div></div><p>Wait about a minute, log out and log back in. You should be logging in with the new password. If login still requires the old password the password sync with active directory did not happen yet. Log back in with the old password, connect to VPN (You will need to use your new password when connecting to VPN) and run the <code>dsconfigad -passinterval 0</code> command and wait a mintue or so before trying to log out/login.</p><p>The process once finished will make sure your local keychain password and AD passwords are in sync.</p></article><section class="article labels"><a class=category href=/categories/how-tos/>How Tos</a><a class=tag href=/tags/macos/>macOS</a><a class=tag href=/tags/active-directory/>Active Directory</a></section></div><div class="article bottom"><section class="article navigation"><p><a class=link href=/blog/setting-vscode-as-default-text-editor-on-macos/><span class="iconfont icon-article"></span>Setting Visual Studio Code as default text editor on macOS</a></p><p><a class=link href=/blog/cross-compiling-on-macos-via-docker/><span class="iconfont icon-article"></span>Cross Compiling on macOS via Docker</a></p></section></div></section><section id=footer><div class=footer-wrap><p class=copyright>Â© Copyright {year}, Hiren Patel</p><p class=powerby><span>Powered&nbsp;by&nbsp;</span><a href=https://gohugo.io target=_blank rel="noopener noreferrer">Hugo</a><span>&nbsp;&&nbsp;</span><a href=https://themes.gohugo.io/hugo-notepadium/ target=_blank rel="noopener noreferrer">Notepadium</a></p></div></section><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "0ceb2b0172264816ba290291f3b99e4f"}'></script></body></html>