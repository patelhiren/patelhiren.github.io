<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Automation on Hiren Patel</title>
    <link>https://patelhiren.com/tags/automation/</link>
    <description>Recent content in Automation on Hiren Patel</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>© Copyright {year}, Hiren Patel</copyright>
    <lastBuildDate>Thu, 22 Jan 2026 00:00:00 +0000</lastBuildDate>
    
	<atom:link href="https://patelhiren.com/tags/automation/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>Tag-Teaming Claude Code with an AI Agent via Tmux</title>
      <link>https://patelhiren.com/blog/tag-teaming-claude-code-with-ai-agent/</link>
      <pubDate>Thu, 22 Jan 2026 00:00:00 +0000</pubDate>
      
      <guid>https://patelhiren.com/blog/tag-teaming-claude-code-with-ai-agent/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://claude.ai/code&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Claude Code&lt;/a&gt; is an impressive CLI that brings sophisticated AI-assisted coding directly into the terminal. Its TUI (Text User Interface) provides rich feedback through interactive menus, progress bars, and side-by-side diffs. However, long-running tasks present a challenge: if you need to step away from your computer, the session momentum is often lost.&lt;/p&gt;
&lt;p&gt;To solve this, I’ve developed a workflow using &lt;a href=&#34;https://github.com/tmux/tmux/wiki&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Tmux&lt;/a&gt; as a shared terminal state. This allows me to hand off a live session to my &lt;a href=&#34;https://clawd.bot/&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Clawdbot&lt;/a&gt; agent and, conversely, take over a session that the agent started. It also provides a mechanism to optionally switch between different account tokens (such as a work account) on the fly.&lt;/p&gt;</description>
      
      <content:encoded><![CDATA[<p><a href="https://claude.ai/code"target="_blank" rel="noopener noreferrer">Claude Code</a> is an impressive CLI that brings sophisticated AI-assisted coding directly into the terminal. Its TUI (Text User Interface) provides rich feedback through interactive menus, progress bars, and side-by-side diffs. However, long-running tasks present a challenge: if you need to step away from your computer, the session momentum is often lost.</p>
<p>To solve this, I’ve developed a workflow using <a href="https://github.com/tmux/tmux/wiki"target="_blank" rel="noopener noreferrer">Tmux</a> as a shared terminal state. This allows me to hand off a live session to my <a href="https://clawd.bot/"target="_blank" rel="noopener noreferrer">Clawdbot</a> agent and, conversely, take over a session that the agent started. It also provides a mechanism to optionally switch between different account tokens (such as a work account) on the fly.</p>
<h2 id="the-core-concept-persistence">The Core Concept: Persistence</h2>
<p>The strategy relies on Tmux sessions to maintain a persistent terminal state in memory. By using named sessions, both the human and the AI agent can attach to and drive the exact same process. This ensures zero context loss when switching between &ldquo;manual&rdquo; and &ldquo;agent&rdquo; mode.</p>
<h2 id="configuration-storing-account-profiles">Configuration: Storing Account Profiles</h2>
<p>To enable the agent to switch accounts, you can store secondary tokens in the <code>coding-agent</code> skill section of <code>clawdbot.json</code>. Using simple shorthand keys makes it easier to request them from a phone.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="s2">&#34;skills&#34;</span><span class="err">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;entries&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;coding-agent&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;env&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;CC_ACC2_TOKEN&#34;</span><span class="p">:</span> <span class="s2">&#34;your-token-here&#34;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="workflow-1-human-to-agent-hand-off">Workflow 1: Human to Agent Hand-off</h2>
<p>When I am working at my desk and need to step away, I follow these steps:</p>
<ol>
<li>
<p><strong>Start a named Tmux session</strong>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">tmux new -s hiren-claude
</span></span><span class="line"><span class="cl">claude
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p><strong>Pro-Tip</strong>: If you want to launch manually with a specific account token, use the <code>env</code> prefix within the Tmux command string to ensure the environment variable is correctly injected into the background session:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">tmux new -s hiren-claude -d <span class="s2">&#34;env CLAUDE_CODE_OAUTH_TOKEN=&#39;your-token&#39; claude&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div></blockquote>
</li>
<li>
<p><strong>Request Hand-off</strong>: From WhatsApp, I tell the agent:</p>
<blockquote>
<p>&ldquo;Take over session <code>hiren-claude</code>. Finish the refactor.&rdquo;</p>
</blockquote>
</li>
</ol>
<h3 id="environment-inheritance">Environment Inheritance</h3>
<p>If I start a session at my desk using <code>export CLAUDE_CODE_OAUTH_TOKEN=...</code>, the agent inherits that environment automatically when it takes over the Tmux pane. Keystrokes sent by the agent will be processed within that authenticated shell.</p>
<h2 id="workflow-2-agent-to-human-take-over">Workflow 2: Agent to Human Take-over</h2>
<p>The hand-off also works in reverse. I can have the agent start a complex task while I am away:</p>
<h3 id="default-account-example">Default Account Example</h3>
<p>I can instruct the agent to start a new run using my default CLI login:</p>
<blockquote>
<p>&ldquo;Start a new session <code>hiren-claude</code> and begin refactoring the database schema.&rdquo;</p>
</blockquote>
<p>Behind the scenes, the agent runs <code>tmux new -s hiren-claude -d &quot;claude '...'&quot;</code>.</p>
<h3 id="specific-account-example">Specific Account Example</h3>
<p>If I want the agent to use a specific account profile from the config:</p>
<blockquote>
<p>&ldquo;Start a new session <code>hiren-claude</code> using <code>cc-acc2-token</code> and fix the memory leak.&rdquo;</p>
</blockquote>
<p>The agent then prepends the token to the execution, mapping the <code>CC_ACC2_TOKEN</code> from the config to the <code>CLAUDE_CODE_OAUTH_TOKEN</code> required by the CLI.</p>
<h3 id="human-take-over">Human Take-over</h3>
<p>When I return to my computer, I can attach to the session and take full control immediately:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">tmux attach -t hiren-claude
</span></span></code></pre></td></tr></table>
</div>
</div><p>Because Tmux lives in the background, this works even if the screen is locked, provided the computer remains awake.</p>
<h2 id="benefits-of-the-tmux-bridge">Benefits of the Tmux Bridge</h2>
<ul>
<li><strong>Full TUI Support</strong>: Standard stdin/stdout redirection often breaks the interactive elements of Claude Code. Using Tmux preserves the full visual experience.</li>
<li><strong>Real-time Monitoring</strong>: I can &ldquo;spectate&rdquo; the work by attaching to the session via SSH from a mobile device or another terminal.</li>
<li><strong>Zero Friction</strong>: No need to re-authenticate or re-explain context when switching between human and AI control.</li>
</ul>
<h2 id="pro-tip-smooth-scrolling-in-tmux">Pro-Tip: Smooth Scrolling in Tmux</h2>
<p>One common frustration when using Claude Code inside Tmux is scrolling. By default, using the mouse wheel might send &ldquo;Up/Down&rdquo; arrow keys, which moves the text in the entry box rather than scrolling the terminal history.</p>
<p>To fix this, you can enable <strong>Mouse Mode</strong>. Add the following to your <code>~/.tmux.conf</code> file:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">set</span> -g mouse on
</span></span></code></pre></td></tr></table>
</div>
</div><p>With this enabled, you can scroll through Claude&rsquo;s responses naturally. If you don&rsquo;t want to enable global mouse mode, you can always enter <strong>Copy Mode</strong> manually by pressing <code>Ctrl-b</code> then <code>[</code>. Once in copy mode, you can scroll freely; just press <code>q</code> to return to the prompt.</p>
<h2 id="execution-reminders">Execution Reminders</h2>
<ul>
<li><strong>Installation</strong>: Ensure <code>tmux</code> is installed via <a href="https://brew.sh/"target="_blank" rel="noopener noreferrer">Homebrew</a> (<code>brew install tmux</code>).</li>
<li><strong>Naming</strong>: Use consistent session names so the agent knows where to look.</li>
<li><strong>Power Settings</strong>: Configure your Mac to stay awake when the display is off to ensure the Tmux server remains active.</li>
</ul>
<p>By treating the terminal as a shared space, I’ve turned my AI agent into a true tag-team partner. We can hot-swap control of the keyboard and switch accounts on the fly without ever losing the &ldquo;zone.&rdquo;</p>]]></content:encoded>
      
    </item>
    
    <item>
      <title>Using mermaid-js to generate Flow Charts</title>
      <link>https://patelhiren.com/blog/using-mermaid-js-to-generate-flow-charts/</link>
      <pubDate>Fri, 24 Apr 2020 12:06:38 -0400</pubDate>
      
      <guid>https://patelhiren.com/blog/using-mermaid-js-to-generate-flow-charts/</guid>
      <description>&lt;p&gt;I often need to document a flow chart for new features I am planning to implement. Usually generating flow chart needed me to go to an application that would let me draw rectangles, text, etc. Today I learned about &lt;a href=&#34;https://github.com/mermaid-js/mermaid&#34;title=&#34;mermaid-js GitHub Page&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;mermaid-js&lt;/a&gt; which allows one to use Markdown like syntax to generte various diagrams including flow charts.&lt;/p&gt;</description>
      
      <content:encoded><![CDATA[<p>I often need to document a flow chart for new features I am planning to implement. Usually generating flow chart needed me to go to an application that would let me draw rectangles, text, etc. Today I learned about <a href="https://github.com/mermaid-js/mermaid"title="mermaid-js GitHub Page"target="_blank" rel="noopener noreferrer">mermaid-js</a> which allows one to use Markdown like syntax to generte various diagrams including flow charts.</p>
<p>There is a live editor available at <a href="https://mermaidjs.github.io/mermaid-live-editor/"target="_blank" rel="noopener noreferrer">https://mermaidjs.github.io/mermaid-live-editor/</a> that allows you to to enter Markdown like text and generate a PNG/SVG output that you can download and embed in your documentation.</p>
<pre tabindex="0"><code class="language-mermaid" data-lang="mermaid">graph TD
A[Christmas] --&gt;|Get money| B(Go shopping)
B --&gt; C{Let me think}
C --&gt;|One| D[Laptop]
C --&gt;|Two| E[iPhone]
C --&gt;|Three| F[fa:fa-car Car]
</code></pre><p>The embedded code block above would generate a flow chart image like the one below.</p>
<p>

<span class="image-container">
    <span class="link">
        <a target="_blank" rel="noopener noreferrer" href="images/mermaid-diagram.png">
            <picture>

                    <source 
                        srcset="
                        
                        
                        

                        

                        

                        /blog/using-mermaid-js-to-generate-flow-charts/images/Dark/mermaid-diagram.png
                        "
                        media="(prefers-color-scheme: dark)"
                    /><source 
                    srcset="
                    
                    
                    

                    

                    

                    /blog/using-mermaid-js-to-generate-flow-charts/images/mermaid-diagram.png
                    " 
                />
                
                <img alt="mermaid - flow chart" 
                        src="/blog/using-mermaid-js-to-generate-flow-charts/images/mermaid-diagram.png" />
            </picture>
        </a>
    </span>
    <span class="caption">
        <span class="title"></span>
    </span>
</span></a></p>
<p>mermaid-js supports generating</p>
<ul>
<li>Flow Chart</li>
<li>Sequence Diagram</li>
<li>Class Diagram</li>
<li>State Diagram</li>
<li>Gantt Chart</li>
<li>Pie Chart</li>
<li>ER Diagram</li>
</ul>
<p>Documentation is available at <a href="https://mermaid-js.github.io/mermaid"target="_blank" rel="noopener noreferrer">https://mermaid-js.github.io/mermaid</a>.</p>]]></content:encoded>
      
    </item>
    
    <item>
      <title>PNG Crush Automator Action</title>
      <link>https://patelhiren.com/blog/pngcrush-automator-action/</link>
      <pubDate>Sun, 12 Apr 2020 22:04:30 -0400</pubDate>
      
      <guid>https://patelhiren.com/blog/pngcrush-automator-action/</guid>
      <description>&lt;p&gt;When using png files on the web it is often preferred to use tools like pngcrush on them to optimize their size. This is usually a manual process where a command line tool or website is used to process each image file. I decided to automate this process for me via macOS &lt;a href=&#34;https://support.apple.com/guide/automator/welcome/mac&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Automator&lt;/a&gt;.&lt;/p&gt;</description>
      
      <content:encoded><![CDATA[<p>When using png files on the web it is often preferred to use tools like pngcrush on them to optimize their size. This is usually a manual process where a command line tool or website is used to process each image file. I decided to automate this process for me via macOS <a href="https://support.apple.com/guide/automator/welcome/mac"target="_blank" rel="noopener noreferrer">Automator</a>.</p>
<p>To crush png images I use the opensource tool <a href="https://pmt.sourceforge.io/pngcrush/"target="_blank" rel="noopener noreferrer">PNG Crush</a>.</p>
<p>If you have <a href="https://developer.apple.com/xcode/"target="_blank" rel="noopener noreferrer">Xcode</a> installed, the pngcrush tool is included as a part of the iOS SDK and there is no additional download required.</p>
<p>If you do not have Xcode you may install <em>PNG Crush</em> via <a href="https://brew.sh"target="_blank" rel="noopener noreferrer">Homebrew</a> using the following command.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh"><span class="line"><span class="cl">brew install pngcrush
</span></span></code></pre></td></tr></table>
</div>
</div><p>If using Xcode method, the <em><strong>pngcrush</strong></em> binary will be at <code>/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/usr/bin/pngcrush</code>.</p>
<p>If using Homebrew, the <em><strong>pngcrush</strong></em> binary will be at <code>/usr/local/bin/pngcrush</code></p>
<p>For the rest of the article I will assume the Homebrew method is used. You just need to adjust the paths for the binary if the Xcode method is used.</p>
<p>To crush a PNG image via Terminal you can run the below command.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh"><span class="line"><span class="cl"><span class="c1"># pngcrush will process the input.png and create a compressed crushed.png</span>
</span></span><span class="line"><span class="cl">pngcrush input.png crushed.png
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="automating-the-process-using-automator-on-macos">Automating the process using Automator on macOS.</h2>
<ul>
<li>Launch <em><strong>Automator</strong></em> via Spotlight Search.</li>
<li>Select <em>File</em>, <em>New</em> from the menu. Select <em><strong>Quick Action</strong></em> and click the <em>Choose</em> button.</li>
</ul>
<p>

<span class="image-container">
    <span class="link">
        <a target="_blank" rel="noopener noreferrer" href="images/01.png">
            <picture><source 
                    srcset="
                    
                    /blog/pngcrush-automator-action/images/01_hu_d95041dc088645c0.png 400w,
                    
                    
                    
                    /blog/pngcrush-automator-action/images/01_hu_f67064edb4c9c63a.png 600w,
                    

                    
                    /blog/pngcrush-automator-action/images/01_hu_6aef051758196510.png 1000w,
                    

                    
                    /blog/pngcrush-automator-action/images/01_hu_952b8bf6b7580b7a.png 1200w,
                    

                    /blog/pngcrush-automator-action/images/01.png
                    " 
                />
                
                <img alt="Automator - New" 
                        src="/blog/pngcrush-automator-action/images/01.png" />
            </picture>
        </a>
    </span>
    <span class="caption">
        <span class="title"></span>
    </span>
</span></a></p>
<ul>
<li>In the new windows that loads, select the options as below.
<ul>
<li>Workflow receives current - <em><strong>image files</strong></em></li>
<li>in - <em><strong>Finder.app</strong></em></li>
</ul>
</li>
</ul>
<p>

<span class="image-container">
    <span class="link">
        <a target="_blank" rel="noopener noreferrer" href="images/02.png">
            <picture><source 
                    srcset="
                    
                    /blog/pngcrush-automator-action/images/02_hu_d7ef3f8431f21b7b.png 400w,
                    
                    
                    
                    /blog/pngcrush-automator-action/images/02_hu_3c3d4c35638f1389.png 600w,
                    

                    
                    /blog/pngcrush-automator-action/images/02_hu_744ab587dd4a6eef.png 1000w,
                    

                    
                    /blog/pngcrush-automator-action/images/02_hu_eed5e9567b32767d.png 1200w,
                    

                    /blog/pngcrush-automator-action/images/02.png
                    " 
                />
                
                <img alt="Automator - New Action" 
                        src="/blog/pngcrush-automator-action/images/02.png" />
            </picture>
        </a>
    </span>
    <span class="caption">
        <span class="title"></span>
    </span>
</span></a></p>
<ul>
<li>In the search box, type <em><strong>Shell</strong></em> and select the <em><strong>Run Shell Script</strong></em> option to add to the automation on the right by double clicking on it.</li>
</ul>
<p>

<span class="image-container">
    <span class="link">
        <a target="_blank" rel="noopener noreferrer" href="images/03.png">
            <picture><source 
                    srcset="
                    
                    /blog/pngcrush-automator-action/images/03_hu_1615e5758656a5ad.png 400w,
                    
                    
                    
                    /blog/pngcrush-automator-action/images/03_hu_d42520d23e3e9e94.png 600w,
                    

                    
                    /blog/pngcrush-automator-action/images/03_hu_38fb3d4781ace6ff.png 1000w,
                    

                    
                    /blog/pngcrush-automator-action/images/03_hu_8f85eb205ca80c14.png 1200w,
                    

                    /blog/pngcrush-automator-action/images/03.png
                    " 
                />
                
                <img alt="Automator - Run Shell Script" 
                        src="/blog/pngcrush-automator-action/images/03.png" />
            </picture>
        </a>
    </span>
    <span class="caption">
        <span class="title"></span>
    </span>
</span></a></p>
<ul>
<li>Change the <em><strong>Pass Input</strong></em> option to <em><strong>as arguments</strong></em>.</li>
<li>Enter the below script commands in the Shell Script box.</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh"><span class="line"><span class="cl"><span class="k">for</span> f in <span class="s2">&#34;</span><span class="nv">$@</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">do</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># Verify that the extension of the file is actually png</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># (case insensitive compare)</span>
</span></span><span class="line"><span class="cl">  <span class="nv">filename</span><span class="o">=</span><span class="k">$(</span>basename <span class="s2">&#34;</span><span class="nv">$f</span><span class="s2">&#34;</span><span class="k">)</span>
</span></span><span class="line"><span class="cl">  <span class="nv">ext</span><span class="o">=</span><span class="s2">&#34;</span><span class="si">${</span><span class="nv">filename</span><span class="p">##*.</span><span class="si">}</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="nb">echo</span> <span class="s2">&#34;</span><span class="nv">$ext</span><span class="s2">&#34;</span> <span class="p">|</span> grep -i png<span class="p">;</span> <span class="k">then</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># If the file is a png, run pngcrush on it.</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># Save the output in the same place with a temporary extension</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># of .crushed_</span>
</span></span><span class="line"><span class="cl">    /opt/homebrew/bin/pngcrush <span class="s2">&#34;</span><span class="nv">$f</span><span class="s2">&#34;</span> <span class="s2">&#34;</span><span class="nv">$f</span><span class="s2">.crushed_&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="c1"># Overwrite the original file with the crushed file.</span>
</span></span><span class="line"><span class="cl">    mv <span class="s2">&#34;</span><span class="nv">$f</span><span class="s2">.crushed_&#34;</span> <span class="s2">&#34;</span><span class="nv">$f</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="k">fi</span>
</span></span><span class="line"><span class="cl"><span class="k">done</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>Save the automation as <em><strong>PNG Crush</strong></em>.</li>
</ul>
<p>

<span class="image-container">
    <span class="link">
        <a target="_blank" rel="noopener noreferrer" href="images/04.png">
            <picture><source 
                    srcset="
                    
                    /blog/pngcrush-automator-action/images/04_hu_ff3d21d706da1bf.png 400w,
                    
                    
                    
                    /blog/pngcrush-automator-action/images/04_hu_6b831092052e4214.png 600w,
                    

                    
                    /blog/pngcrush-automator-action/images/04_hu_995d894793146157.png 1000w,
                    

                    
                    /blog/pngcrush-automator-action/images/04_hu_7806f2b963de23ca.png 1200w,
                    

                    /blog/pngcrush-automator-action/images/04.png
                    " 
                />
                
                <img alt="Automator - Final Code" 
                        src="/blog/pngcrush-automator-action/images/04.png" />
            </picture>
        </a>
    </span>
    <span class="caption">
        <span class="title"></span>
    </span>
</span></a></p>
<p>You may now browse to any png file(s) in Finder and right click, select <em><strong>Services</strong></em> -&gt; <em><strong>PNG Crush</strong></em>.</p>
<p>

<span class="image-container">
    <span class="link">
        <a target="_blank" rel="noopener noreferrer" href="images/05.png">
            <picture><source 
                    srcset="
                    
                    /blog/pngcrush-automator-action/images/05_hu_13240fec6c145b38.png 400w,
                    
                    
                    
                    /blog/pngcrush-automator-action/images/05_hu_1d42f284206c81f1.png 600w,
                    

                    
                    /blog/pngcrush-automator-action/images/05_hu_693c350105e2a6db.png 1000w,
                    

                    
                    /blog/pngcrush-automator-action/images/05_hu_2eb55f1fbe77e194.png 1200w,
                    

                    /blog/pngcrush-automator-action/images/05.png
                    " 
                />
                
                <img alt="Finder - Services Menu" 
                        src="/blog/pngcrush-automator-action/images/05.png" />
            </picture>
        </a>
    </span>
    <span class="caption">
        <span class="title"></span>
    </span>
</span></a></p>
<p>While the automation is running you will see a spinning cog in you Menu bar in the top right. When the cog disappears the automation is done and your images have been processed by <em><strong>pngcrush</strong></em>.</p>
<p>

<span class="image-container">
    <span class="link">
        <a target="_blank" rel="noopener noreferrer" href="images/06.png">
            <picture><source 
                    srcset="
                    
                    /blog/pngcrush-automator-action/images/06_hu_6d28ff6fbd865374.png 400w,
                    
                    
                    

                    

                    

                    /blog/pngcrush-automator-action/images/06.png
                    " 
                />
                
                <img alt="Finder - Automator Running" 
                        src="/blog/pngcrush-automator-action/images/06.png" />
            </picture>
        </a>
    </span>
    <span class="caption">
        <span class="title"></span>
    </span>
</span></a></p>]]></content:encoded>
      
    </item>
    
  </channel>
</rss>