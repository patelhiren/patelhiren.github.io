<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Tmux on Hiren Patel</title>
    <link>https://patelhiren.com/tags/tmux/</link>
    <description>Recent content in Tmux on Hiren Patel</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>© Copyright {year}, Hiren Patel</copyright>
    <lastBuildDate>Thu, 22 Jan 2026 00:00:00 +0000</lastBuildDate>
    
	<atom:link href="https://patelhiren.com/tags/tmux/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>Tag-Teaming Claude Code with an AI Agent via Tmux</title>
      <link>https://patelhiren.com/blog/tag-teaming-claude-code-with-ai-agent/</link>
      <pubDate>Thu, 22 Jan 2026 00:00:00 +0000</pubDate>
      
      <guid>https://patelhiren.com/blog/tag-teaming-claude-code-with-ai-agent/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://claude.ai/code&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Claude Code&lt;/a&gt; is an impressive CLI that brings sophisticated AI-assisted coding directly into the terminal. Its TUI (Text User Interface) provides rich feedback through interactive menus, progress bars, and side-by-side diffs. However, long-running tasks present a challenge: if you need to step away from your computer, the session momentum is often lost.&lt;/p&gt;
&lt;p&gt;To solve this, I’ve developed a workflow using &lt;a href=&#34;https://github.com/tmux/tmux/wiki&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Tmux&lt;/a&gt; as a shared terminal state. This allows me to hand off a live session to my &lt;a href=&#34;https://clawd.bot/&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Clawdbot&lt;/a&gt; agent and, conversely, take over a session that the agent started. It also provides a mechanism to optionally switch between different account tokens (such as a work account) on the fly.&lt;/p&gt;</description>
      
      <content:encoded><![CDATA[<p><a href="https://claude.ai/code"target="_blank" rel="noopener noreferrer">Claude Code</a> is an impressive CLI that brings sophisticated AI-assisted coding directly into the terminal. Its TUI (Text User Interface) provides rich feedback through interactive menus, progress bars, and side-by-side diffs. However, long-running tasks present a challenge: if you need to step away from your computer, the session momentum is often lost.</p>
<p>To solve this, I’ve developed a workflow using <a href="https://github.com/tmux/tmux/wiki"target="_blank" rel="noopener noreferrer">Tmux</a> as a shared terminal state. This allows me to hand off a live session to my <a href="https://clawd.bot/"target="_blank" rel="noopener noreferrer">Clawdbot</a> agent and, conversely, take over a session that the agent started. It also provides a mechanism to optionally switch between different account tokens (such as a work account) on the fly.</p>
<h2 id="the-core-concept-persistence">The Core Concept: Persistence</h2>
<p>The strategy relies on Tmux sessions to maintain a persistent terminal state in memory. By using named sessions, both the human and the AI agent can attach to and drive the exact same process. This ensures zero context loss when switching between &ldquo;manual&rdquo; and &ldquo;agent&rdquo; mode.</p>
<h2 id="configuration-storing-account-profiles">Configuration: Storing Account Profiles</h2>
<p>To enable the agent to switch accounts, you can store secondary tokens in the <code>coding-agent</code> skill section of <code>clawdbot.json</code>. Using simple shorthand keys makes it easier to request them from a phone.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="s2">&#34;skills&#34;</span><span class="err">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;entries&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;coding-agent&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;env&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;CC_ACC2_TOKEN&#34;</span><span class="p">:</span> <span class="s2">&#34;your-token-here&#34;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="workflow-1-human-to-agent-hand-off">Workflow 1: Human to Agent Hand-off</h2>
<p>When I am working at my desk and need to step away, I follow these steps:</p>
<ol>
<li>
<p><strong>Start a named Tmux session</strong>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">tmux new -s hiren-claude
</span></span><span class="line"><span class="cl">claude
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p><strong>Pro-Tip</strong>: If you want to launch manually with a specific account token, use the <code>env</code> prefix within the Tmux command string to ensure the environment variable is correctly injected into the background session:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">tmux new -s hiren-claude -d <span class="s2">&#34;env CLAUDE_CODE_OAUTH_TOKEN=&#39;your-token&#39; claude&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div></blockquote>
</li>
<li>
<p><strong>Request Hand-off</strong>: From WhatsApp, I tell the agent:</p>
<blockquote>
<p>&ldquo;Take over session <code>hiren-claude</code>. Finish the refactor.&rdquo;</p>
</blockquote>
</li>
</ol>
<h3 id="environment-inheritance">Environment Inheritance</h3>
<p>If I start a session at my desk using <code>export CLAUDE_CODE_OAUTH_TOKEN=...</code>, the agent inherits that environment automatically when it takes over the Tmux pane. Keystrokes sent by the agent will be processed within that authenticated shell.</p>
<h2 id="workflow-2-agent-to-human-take-over">Workflow 2: Agent to Human Take-over</h2>
<p>The hand-off also works in reverse. I can have the agent start a complex task while I am away:</p>
<h3 id="default-account-example">Default Account Example</h3>
<p>I can instruct the agent to start a new run using my default CLI login:</p>
<blockquote>
<p>&ldquo;Start a new session <code>hiren-claude</code> and begin refactoring the database schema.&rdquo;</p>
</blockquote>
<p>Behind the scenes, the agent runs <code>tmux new -s hiren-claude -d &quot;claude '...'&quot;</code>.</p>
<h3 id="specific-account-example">Specific Account Example</h3>
<p>If I want the agent to use a specific account profile from the config:</p>
<blockquote>
<p>&ldquo;Start a new session <code>hiren-claude</code> using <code>cc-acc2-token</code> and fix the memory leak.&rdquo;</p>
</blockquote>
<p>The agent then prepends the token to the execution, mapping the <code>CC_ACC2_TOKEN</code> from the config to the <code>CLAUDE_CODE_OAUTH_TOKEN</code> required by the CLI.</p>
<h3 id="human-take-over">Human Take-over</h3>
<p>When I return to my computer, I can attach to the session and take full control immediately:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">tmux attach -t hiren-claude
</span></span></code></pre></td></tr></table>
</div>
</div><p>Because Tmux lives in the background, this works even if the screen is locked, provided the computer remains awake.</p>
<h2 id="benefits-of-the-tmux-bridge">Benefits of the Tmux Bridge</h2>
<ul>
<li><strong>Full TUI Support</strong>: Standard stdin/stdout redirection often breaks the interactive elements of Claude Code. Using Tmux preserves the full visual experience.</li>
<li><strong>Real-time Monitoring</strong>: I can &ldquo;spectate&rdquo; the work by attaching to the session via SSH from a mobile device or another terminal.</li>
<li><strong>Zero Friction</strong>: No need to re-authenticate or re-explain context when switching between human and AI control.</li>
</ul>
<h2 id="pro-tip-smooth-scrolling-in-tmux">Pro-Tip: Smooth Scrolling in Tmux</h2>
<p>One common frustration when using Claude Code inside Tmux is scrolling. By default, using the mouse wheel might send &ldquo;Up/Down&rdquo; arrow keys, which moves the text in the entry box rather than scrolling the terminal history.</p>
<p>To fix this, you can enable <strong>Mouse Mode</strong>. Add the following to your <code>~/.tmux.conf</code> file:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">set</span> -g mouse on
</span></span></code></pre></td></tr></table>
</div>
</div><p>With this enabled, you can scroll through Claude&rsquo;s responses naturally. If you don&rsquo;t want to enable global mouse mode, you can always enter <strong>Copy Mode</strong> manually by pressing <code>Ctrl-b</code> then <code>[</code>. Once in copy mode, you can scroll freely; just press <code>q</code> to return to the prompt.</p>
<h2 id="execution-reminders">Execution Reminders</h2>
<ul>
<li><strong>Installation</strong>: Ensure <code>tmux</code> is installed via <a href="https://brew.sh/"target="_blank" rel="noopener noreferrer">Homebrew</a> (<code>brew install tmux</code>).</li>
<li><strong>Naming</strong>: Use consistent session names so the agent knows where to look.</li>
<li><strong>Power Settings</strong>: Configure your Mac to stay awake when the display is off to ensure the Tmux server remains active.</li>
</ul>
<p>By treating the terminal as a shared space, I’ve turned my AI agent into a true tag-team partner. We can hot-swap control of the keyboard and switch accounts on the fly without ever losing the &ldquo;zone.&rdquo;</p>]]></content:encoded>
      
    </item>
    
  </channel>
</rss>